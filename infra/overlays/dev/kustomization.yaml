apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - ../../base
images:
  - name: CAR_IMAGE
    newName: 395271362395.dkr.ecr.ap-northeast-2.amazonaws.com/car
    newTag: 74fd7dbc47
  - name: HOTEL_IMAGE
    newName: 395271362395.dkr.ecr.ap-northeast-2.amazonaws.com/hotel
    newTag: 74fd7dbc47
  - name: FLIGHT_IMAGE
    newName: 395271362395.dkr.ecr.ap-northeast-2.amazonaws.com/flight
    newTag: 74fd7dbc47
  - name: RELAY_IMAGE
    newName: 395271362395.dkr.ecr.ap-northeast-2.amazonaws.com/relay
    newTag: 74fd7dbc47
  - name: SAGA_IMAGE
    newName: 395271362395.dkr.ecr.ap-northeast-2.amazonaws.com/saga
    newTag: 74fd7dbc47
  - name: TRIP_IMAGE
    newName: 395271362395.dkr.ecr.ap-northeast-2.amazonaws.com/trip
    newTag: 74fd7dbc47
  - name: MIGRATION_IMAGE
    newName: 395271362395.dkr.ecr.ap-northeast-2.amazonaws.com/migration
    newTag: 74fd7dbc47
configMapGenerator:
  - name: aws-conf
    envs:
      - aws.env
patchesStrategicMerge:
  - patch-env-trip.yaml
  - patch-env-car.yaml
  - patch-env-hotel.yaml
  - patch-env-flight.yaml
  - patch-env-saga.yaml
  - patch-env-relay.yaml
  - patch-env-migration.yaml
commonLabels:
  app.kubernetes.io/stage: dev
